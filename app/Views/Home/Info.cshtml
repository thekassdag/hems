@{
    Layout = null;
    ViewData["Title"] = "Device Info";
}

<!DOCTYPE html>
<html class="light" lang="en">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>@ViewData["Title"] - HMS</title>
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script id="tailwind-config">
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        primary: "#03941f", // Forest Green
                        "carbon": "#222222", // Carbon Black
                        "dim": "#616161", // Dim Grey
                        "app-bg": "#fdfdfd", // Background White
                    },
                    fontFamily: {
                        sans: ["Inter", "sans-serif"],
                    }
                }
            }
        };
    </script>
    <style>
        @@layer base {
            body {
                @@apply bg-app-bg text-carbon antialiased;
            }
        }
        .login-card {
            @@apply bg-white rounded-3xl border border-gray-100;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.03);

        }
        .ios-input {
            @@apply w-full px-10 py-3.5 bg-white border border-gray-200 rounded-xl text-[15px] focus:ring-1 focus:ring-primary focus:border-primary transition-all placeholder:text-dim/50 text-carbon;
            width: 100%;
        }
        .input-label {
            @@apply text-[11px] font-bold text-dim uppercase tracking-wider ml-1 mb-1.5 block;
        }
    </style>
    <style>
        body {
            min-height: max(884px, 100dvh);
        }
    </style>
</head>

<body class="flex items-center justify-center min-h-[100dvh] p-6">
    <div class="w-full max-w-[390px] flex flex-col">
        <div class="flex flex-col items-center mb-10">
            <div
                class="w-36 h-36 mb-4 bg-white rounded-2xl flex items-center justify-center border border-gray-100 shadow-sm p-2">
                <div class="w-full h-full bg-center bg-contain bg-no-repeat"
                    style='background-image: url("/images/logo.png");'>
                </div>
            </div>
            <div class="text-center">
                <h1 class="text-xl font-bold tracking-tight text-carbon">Haramaya University</h1>
                <p class="text-[13px] text-dim font-medium mt-1">Holistic Management System For SWE Department</p>
            </div>
        </div>
        <div class="login-card p-8">
            <h2 class="text-[17px] font-semibold text-carbon mb-8 text-center">This Device Information (use for lab machine registrations)</h2>
            <div class="space-y-5">
                <div>
                    <label class="input-label" for="device-id-text">Device ID</label>
                    <div class="flex items-center">
                        <input class="ios-input" id="device-id-text" type="text" value="@ViewBag.DeviceFingerprint" readonly />
                    </div>
                </div>
                <div class="flex justify-center">
                    <div id="qrcode" class="p-2 border border-gray-200 rounded-lg"></div>
                </div>
            </div>
        </div>
        <div class="mt-12 text-center">
            <p class="text-[11px] text-dim font-medium leading-relaxed">
                Holistic Management System For SWE Department<br />
                DEVELOPED BY UNO TEAM Â© 2026
            </p>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/qrcodejs@1.0.0/qrcode.min.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            const deviceFingerprint = document.getElementById("device-id-text").value;

            // Generate QR code
            new QRCode(document.getElementById("qrcode"), {
                text: deviceFingerprint,
                width: 128,
                height: 128,
                colorDark : "#000000",
                colorLight : "#ffffff",
                correctLevel : QRCode.CorrectLevel.H
            });
        });
    </script>
</body>

</html>